{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ziqxc\\\\belediye-kurslari\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, createContext } from 'react';\nimport { Routes, Route, Navigate, BrowserRouter } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Home from './pages/Home.jsx';\nimport AdminPanel from './pages/AdminPanel.jsx';\nimport LoginForm from './components/Auth/LoginForm.jsx';\nimport RegisterForm from './components/Auth/RegisterForm.jsx';\nimport MyCourses from './components/Courses/MyCourses.jsx';\nimport setAuthToken from './utils/SetAuthToken';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext(null);\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\nfunction App() {\n  _s();\n  var _auth$user;\n  const [auth, setAuth] = useState({\n    token: localStorage.getItem('token'),\n    isAuthenticated: null,\n    loading: true,\n    user: null\n  });\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user && localStorage.token) {\n      setAuth(prev => ({\n        ...prev,\n        isAuthenticated: true,\n        user: user,\n        loading: false\n      }));\n    } else {\n      setAuth(prev => ({\n        ...prev,\n        isAuthenticated: false,\n        user: null,\n        loading: false\n      }));\n    }\n  }, []);\n  const loginUser = data => {\n    localStorage.setItem('token', data.token);\n    localStorage.setItem('user', JSON.stringify(data.user));\n    setAuthToken(data.token);\n    setAuth({\n      token: data.token,\n      isAuthenticated: true,\n      loading: false,\n      user: data.user\n    });\n  };\n  const logoutUser = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setAuthToken(null);\n    setAuth({\n      token: null,\n      isAuthenticated: false,\n      loading: false,\n      user: null\n    });\n  };\n  const updateUserCourses = courseIdArray => {\n    const updatedUser = {\n      ...auth.user,\n      myCourses: courseIdArray\n    };\n    setAuth(prev => ({\n      ...prev,\n      user: updatedUser\n    }));\n    localStorage.setItem('user', JSON.stringify(updatedUser));\n  };\n  if (auth.loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '50px'\n      },\n      children: \"Y\\xFCkleniyor...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      ...auth,\n      loginUser,\n      logoutUser,\n      updateUserCourses\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/kurslarim\",\n            element: auth.isAuthenticated ? /*#__PURE__*/_jsxDEV(MyCourses, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 70\n            }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 86\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/admin\",\n            element: auth.isAuthenticated && ((_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 97\n            }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 114\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n// index.js'te BrowserRouter varsa buraya gerek yok, ama yoksa eklemek en güvenlisi.\n_s(App, \"6HkFTYAL05g1gTXr/h4ZgCthJf0=\");\n_c = App;\nconst AppWrapper = () => /*#__PURE__*/_jsxDEV(BrowserRouter, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 84,\n  columnNumber: 5\n}, this);\n_c2 = AppWrapper;\nexport default App; // index.js'te AppWrapper kullanmıyorsanız bunu kullanın.\n// export default AppWrapper; // index.js'te <AppWrapper /> kullanacaksanız bunu export edin.\nvar _c, _c2;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"AppWrapper\");","map":{"version":3,"names":["React","useState","useEffect","createContext","Routes","Route","Navigate","BrowserRouter","Navbar","Home","AdminPanel","LoginForm","RegisterForm","MyCourses","setAuthToken","jsxDEV","_jsxDEV","AuthContext","localStorage","token","App","_s","_auth$user","auth","setAuth","getItem","isAuthenticated","loading","user","JSON","parse","prev","loginUser","data","setItem","stringify","logoutUser","removeItem","updateUserCourses","courseIdArray","updatedUser","myCourses","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","Provider","value","className","path","element","to","role","_c","AppWrapper","_c2","$RefreshReg$"],"sources":["C:/Users/ziqxc/belediye-kurslari/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext } from 'react';\nimport { Routes, Route, Navigate, BrowserRouter } from 'react-router-dom';\nimport Navbar from './Navbar';\nimport Home from './pages/Home.jsx';\nimport AdminPanel from './pages/AdminPanel.jsx';\nimport LoginForm from './components/Auth/LoginForm.jsx';\nimport RegisterForm from './components/Auth/RegisterForm.jsx';\nimport MyCourses from './components/Courses/MyCourses.jsx';\nimport setAuthToken from './utils/SetAuthToken';\nimport './App.css';\n\nexport const AuthContext = createContext(null);\n\nif (localStorage.token) {\n  setAuthToken(localStorage.token);\n}\n\nfunction App() {\n  const [auth, setAuth] = useState({\n    token: localStorage.getItem('token'),\n    isAuthenticated: null,\n    loading: true,\n    user: null,\n  });\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user && localStorage.token) {\n      setAuth(prev => ({ ...prev, isAuthenticated: true, user: user, loading: false }));\n    } else {\n      setAuth(prev => ({ ...prev, isAuthenticated: false, user: null, loading: false }));\n    }\n  }, []);\n\n  const loginUser = (data) => {\n    localStorage.setItem('token', data.token);\n    localStorage.setItem('user', JSON.stringify(data.user));\n    setAuthToken(data.token);\n    setAuth({\n      token: data.token,\n      isAuthenticated: true,\n      loading: false,\n      user: data.user,\n    });\n  };\n\n  const logoutUser = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setAuthToken(null);\n    setAuth({ token: null, isAuthenticated: false, loading: false, user: null });\n  };\n\n  const updateUserCourses = (courseIdArray) => {\n    const updatedUser = { ...auth.user, myCourses: courseIdArray };\n    setAuth(prev => ({ ...prev, user: updatedUser }));\n    localStorage.setItem('user', JSON.stringify(updatedUser));\n  };\n  \n  if (auth.loading) {\n    return <div style={{textAlign: 'center', marginTop: '50px'}}>Yükleniyor...</div>;\n  }\n\n  return (\n    <AuthContext.Provider value={{ ...auth, loginUser, logoutUser, updateUserCourses }}>\n      <div className=\"App\">\n        <Navbar />\n        <main className=\"container\">\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/login\" element={<LoginForm />} />\n            <Route path=\"/register\" element={<RegisterForm />} />\n            <Route path=\"/kurslarim\" element={auth.isAuthenticated ? <MyCourses /> : <Navigate to=\"/login\" />} />\n            <Route path=\"/admin\" element={auth.isAuthenticated && auth.user?.role === 'admin' ? <AdminPanel /> : <Navigate to=\"/\" />} />\n          </Routes>\n        </main>\n      </div>\n    </AuthContext.Provider>\n  );\n}\n\n// index.js'te BrowserRouter varsa buraya gerek yok, ama yoksa eklemek en güvenlisi.\nconst AppWrapper = () => (\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n);\n\nexport default App; // index.js'te AppWrapper kullanmıyorsanız bunu kullanın.\n// export default AppWrapper; // index.js'te <AppWrapper /> kullanacaksanız bunu export edin."],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}